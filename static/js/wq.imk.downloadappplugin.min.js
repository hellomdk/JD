var imk2Version="imk3-1.8.2";console.warn(">>> "+imk2Version);try{var isLoadedImk2=typeof window.imk2Handler=="undefined"?false:true;if(isLoadedImk2){}else{if(!Array.isArray){Array.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"}}var _eyeUrL="//wq.360buyimg.com/js/common/dest/wq.imk.componentInfo.min.js";var _headDom;var _eyeDiv;if(location.href.indexOf("showxinfo")>-1){_headDom=document.querySelector("head");_eyeDiv=document.createElement("script");_eyeDiv.src=_eyeUrL;_headDom.appendChild(_eyeDiv)}var IMKTOOLS={};IMKTOOLS.getCookie=function(e){var t="";var n=[];var o="^"+e+"=";var a=new RegExp(o,"ig");if(document.cookie){n=document.cookie.split(";");for(var i=0,r=n.length;i<r;i++){if(a.test(n[i].trim())){t=n[i].split("=")[1];break}}}return t};IMKTOOLS.parseURL=function(e){var i=document.createElement("a");i.href=e;return{source:e,protocol:i.protocol&&i.protocol.replace(":",""),host:i.hostname,port:i.port,query:i.search,params:function(){var e={},t=i.search.replace(/^\?/,"").split("&"),n=t.length,o=0,a;for(;o<n;o++){if(!t[o]){continue}a=t[o].split("=");e[a[0]]=a[1]}return e}(),file:(i.pathname.match(/\/([^\/?#]+)$/i)||[,""])[1],hash:i.hash.replace("#",""),path:i.pathname.replace(/^([^\/])/,"/$1"),relative:(i.href.match(/tps?:\/\/[^\/]+(.+)/)||[,""])[1],segments:i.pathname.replace(/^\//,"").split("/")}};IMKTOOLS.ImkLogCollector=function(){var i="https://wq.jd.com/bases/ylmonitor/preArousal?";var e=IMKTOOLS.parseURL(location.href).params;var r=e&&e.imkUserId||IMKTOOLS.getCookie("visitkey")||"imk"+Math.random()*1e4;function t(e,t,n){var o=r&&e&&t!=="";if(o){var a=new Image;a.src=i+"app=jdapp&refer="+encodeURIComponent(location.href)+"&imkUserId="+r+"&type="+e+"&msg="+t+(n?"&ext="+JSON.stringify(n):"")+"&t="+Math.random()}}return{collect:t}}();IMKTOOLS.BadJSService=function(){var i="https://wq.jd.com/webmonitor/collect/badjs.json?";var r={"https://imk2.jd.com/auto/open/app/configCenter/ajax/success/exception":1,"https://imk2.jd.com/auto/open/app/closeUaAjaxPrame/ajax/success/exception":2,"https://imk2.jd.com/auto/open/app/convertOptions/url":3,"https://imk2.jd.com/auto/open/app/convertOptions/intervalTime":4,"https://imk2.jd.com/auto/open/app/jsonParseError":5,"https://imk2.jd.com/auto/open/app/getIntentUrl":6,"https://imk2.jd.com/auto/open/app/checkShield":7,"https://imk2.jd.com/auto/open/app/addCookieByJsonp":8,"https://imk2.jd.com/auto/open/app/wechat/jweixin/load":31,"https://imk2.jd.com/auto/open/app/wechat/config/checkJsApi":32,"https://imk2.jd.com/auto/open/app/wechat/check/result":33,"https://imk2.jd.com/auto/open/app/wechat/config/result":34,"https://imk2.jd.com/auto/open/app/wechat/config/permission":35,"https://imk2.jd.com/auto/open/app/wechat/invoke/result":36,"https://imk2.jd.com/auto/open/app/wechat/config/launchResult":37,"https://imk2.jd.com/auto/open/app/wechat/config/other":38};function e(e,t,n){var o=t&&e&&t!==""&&e!=="";if(o){var a=new Image;a.src=i+"Content="+encodeURIComponent(" [ "+new Date+" ] "+t)+"&referer="+encodeURIComponent(e+"?wq")+"&t="+Math.random();IMKTOOLS.ImkLogCollector.collect(r[e],t,n)}}return{error:e}}();IMKTOOLS.UMPService=function(){var a="1116",i="https://wq.jd.com/webmonitor/collect/biz.json?contents=",r=[],s=null;function e(e){e=l(e);var t;var n=2;if(Math.floor(Math.random()*10)>n)return false;if(Array.isArray(e)){t=[];for(var o=0;o<e.length;o++){t.push(a+"|"+e[o].operation+"|"+e[o].result+"|"+e[o].source+"|"+encodeURIComponent(String(e[o].message).replace(/,/g," "))+(window.traceid?"|"+window.traceid:""))}t=t.join(",")}else{t=a+"|"+e.operation+"|"+e.result+"|"+e.source+"|"+encodeURIComponent(String(e.message).replace(/,/g," "))+(window.traceid?"|"+window.traceid:"");if(e&&e.notCombo){(new Image).src=i+t+"&t="+Math.random();return false}}r.push(t);if(!s){s=setTimeout(function(){var e=new Image;e.src=i+r.join(",")+"&t="+Math.random();r=[];s=null},1e3)}}return{umpBiz:e};function l(e){if(!Array.isArray(e))return e;if(typeof e[0]==="object")return e;return{operation:e[0]||"",result:e[1]||"",message:e[2]||"",source:e[3]||"0"}}}();IMKTOOLS.isInM_item=function(){var e=/^https?:\/\/item\.m\.jd\.com/;var t=/^https?:\/\/mitem\.jd\.hk/;var n=/^https?:\/\/m\.yiyaojd\.com/;var o=/^https?:\/\/mitem\.jdworldwide\.com/;var a=/^https?:\/\/mitem\.jkcsjd\.com/;return e.test(location.href)||t.test(location.href)||n.test(location.href)||o.test(location.href)||a.test(location.href)};window.IMK2_COMMON_OPTION=function(){return{imk2AppDownloadURL4Apple:"//wqs.jd.com/downloadApp/imk.html",imk2AppDownloadURL:"//wqs.jd.com/downloadApp/imk.html?channel=jd-m",imk2OpenAppType:0}}();function CommmonLightLine(n){this.handler;this.dom;this.hypotenuse;this.lineWidth;this.base;this.skew;this.lineColor;this.intervalTime;this.time;this.timeCounter=0;this.bgImage;this.subDom;this.init=function(){var e;var t;this.dom=document.querySelector(""+n.domId);e=this.dom.offsetWidth;t=this.dom.offsetHeight;this.hypotenuse=Math.round(Math.sqrt(e*e+t*t));this.lineWidth=n.lineWidth?n.lineWidth:5;this.base=n.base?n.base:0;this.skew=n.skew?n.skew:"135deg";this.lineColor=n.lineColor?" "+n.lineColor+" ":" rgba(255, 255, 255, .3) ";this.intervalTime=n.intervalTime?n.intervalTime:5;this.time=n.time?n.time:"infinite";this.bgImage=n.bgImage?',url("'+n.bgImage+'")':"";this.dom.style.backgroundImage='url("'+n.bgImage+'")';this.subDom=document.createElement("div");this.subDom.setAttribute("style","width: 100%; height: 100%;");this.subDom.style.borderRadius=getComputedStyle(imk2Side,null).getPropertyValue("border-radius");this.dom.appendChild(this.subDom)};this.play=function(){this.init();var e=this;this.handler=setInterval(function(){e.subDom.style.backgroundImage="linear-gradient("+e.skew+", transparent, transparent "+e.base+"px, "+e.lineColor+e.base+"px, "+e.lineColor+(e.base+e.lineWidth)+"px, transparent "+(e.base+e.lineWidth)+"px) ";e.base++;if(e.base>e.hypotenuse){e.base=0;e.timeCounter++}if(e.time<e.timeCounter){clearInterval(e.handler)}},this.intervalTime)}}function mCarouselNew(e){this.intervel=e.intervel?e.intervel:3e3;this.transitionTime=e.transitionTime?e.transitionTime:800;this.carouselHeight=e.carouselHeight?e.carouselHeight:45;this.circle;this.carousel;this.silders;this.sildersLen;this.currentIndex=0;this.handler;this._w;this.startPostionX=0;this.endPostionX=0;this.distance=0;this.stopCarousel=e.stopCarousel;mCarouselNew.prototype.init=function(){this.carousel=document.querySelector(e.warpperId+" .carousel");this.silders=document.querySelectorAll(e.warpperId+" .carousel li");this.circles=document.querySelectorAll(e.warpperId+" .m-carousel-circle li");this._w=getComputedStyle(this.carousel.parentNode,null).width.replace("px","");if(isNaN(this._w)||this._w===null||this._w<=0){this._w=document.documentElement.clientWidth}this.setCSS();this.bindEvent()};mCarouselNew.prototype.setCSS=function(){this.sildersLen=this.silders.length;for(var e=0;e<this.sildersLen;e++){this.silders[e].style.width=this._w+"px";this.silders[e].style.left=e*this._w+"px"}this.carousel.style.width=this.sildersLen*this._w+"px";this.carousel.parentNode.style.height=this.carouselHeight+"px"};mCarouselNew.prototype.turningPage=function(e){this.carousel.style.transition=this.transitionTime+"ms";this.carousel.style.transform="translate3d("+-this.currentIndex*this._w+"px, 0, 0)";this.silders[this.currentIndex%this.sildersLen].style.left=this.currentIndex*this._w+"px";if(e=="--\x3e"){if(this.currentIndex==this.sildersLen-1||this.currentIndex%this.sildersLen==this.sildersLen-1){this.circles[0].classList.remove("item-active");this.circles[this.sildersLen-1].classList.add("item-active")}else{this.circles[this.currentIndex%this.sildersLen+1].classList.remove("item-active");this.circles[this.currentIndex%this.sildersLen].classList.add("item-active")}}else{if(this.currentIndex%this.sildersLen==0){this.circles[this.sildersLen-1].classList.remove("item-active");this.circles[0].classList.add("item-active");return}else{this.circles[this.currentIndex%this.sildersLen-1].classList.remove("item-active");this.circles[this.currentIndex%this.sildersLen].classList.add("item-active")}}};mCarouselNew.prototype.bindEvent=function(){if(this.stopCarousel){return false}var o=this;this.carousel.addEventListener("touchstart",function(e){o.cancelPlay();var t=e.touches[0];o.startPostionX=t.clientX});this.carousel.addEventListener("touchmove",function(e){o.carousel.style.transition="";var t=e.touches[0];o.endPostionX=t.clientX;this.distance=o.endPostionX-o.startPostionX;var n=-o.currentIndex*o._w+this.distance;if(this.distance!=0){e.preventDefault()}if(o.currentIndex==0&&this.distance>0){return}else{this.style.transform="translate3d("+n+"px, 0, 0)"}});this.carousel.addEventListener("touchend",function(e){var t=e.changedTouches[0].clientX-o.startPostionX;if(o.currentIndex==0&&t>0){return}o.autoPlay();if(t<0){o.currentIndex++;o.turningPage("<--")}if(t>0){o.currentIndex--;o.turningPage("--\x3e")}})};mCarouselNew.prototype.cancelPlay=function(){clearInterval(this.handler)};mCarouselNew.prototype.autoPlay=function(){var e=this;this.handler=setInterval(function(){e.currentIndex++;e.turningPage()},this.intervel)};mCarouselNew.prototype.resetCSS=function(){this.cancelPlay();this._w=getComputedStyle(this.carousel.parentNode,null).width.replace("px","");if(this._w=="100%"){this._w=document.documentElement.clientWidth;if(this._w>640){this._w="640"}}this.silders[this.currentIndex%this.sildersLen].style.width=this._w+"px";this.silders[this.currentIndex%this.sildersLen].style.left=this.currentIndex*this._w+"px";for(var e=0;e<this.sildersLen;e++){this.silders[e].style.width=this._w+"px"}this.carousel.style.transition="";this.carousel.style.transform="translate3d("+-this.currentIndex*this._w+"px, 0, 0)";this.silders[this.currentIndex%this.sildersLen].style.left=this.currentIndex*this._w+"px";if(this.sildersLen>1){this.autoPlay()}};mCarouselNew.prototype.monitorOrientation=function(){var e=this;window.addEventListener("orientationchange",function(){setTimeout(function(){e.resetCSS()},200)})};mCarouselNew.prototype.start=function(){this.init();this.monitorOrientation();if(!this.stopCarousel){this.autoPlay()}}}window.imk2Handler=function(){var e=document.URL.toLowerCase();var O=IMKTOOLS.parseURL(e).params;var u=O.ad_od;var m=O.pc_source;var h=O.dl_abtest||"";var f=navigator.userAgent;var p=f.match(/Chrome/i)!=null&&f.match(/Version\/\d+\.\d+(\.\d+)?\sChrome\//i)==null?true:false;var b=f.match(/(Android);?[\s\/]+([\d.]+)?/)?true:false;var w=f.match(/(iPad).*OS\s([\d_]+)/)?true:false;var c=f.match(/(Mac\sOS)\sX\s([\d_]+)/)?true:false;var v=!w&&f.match(/(iPhone\sOS)\s([\d_]+)/)?true:false;var d=(v||w)&&f.match(/Safari/);var j=navigator.userAgent.indexOf("MicroMessenger")>-1;var g=0;var t=f.match(/(iPhone\sOS)\s([\d_]+)/);var y=t&&t.length>2?t[2].split("_").length>0?t[2].split("_")[0]:"":"";d&&(g=f.match(/Version\/([\d\.]+)/));try{g=parseFloat(g[1],10)}catch(e){}var A=f.toUpperCase().indexOf("SAMSUNG-SM-N7508V")!=-1;var P=f.toLocaleLowerCase().indexOf("miniprogram")!=-1;var x="plugIn_downloadAppPlugIn_loadIframe";var I=false;var a={};var o=null;var n={};var i=window.Zepto||window.jQuery?true:false;var r=[];var s=Math.floor(Math.random()*100)+1;var k=f.indexOf("jdpingou")>-1||f.indexOf("jdapp")>-1;var _=f.indexOf("jdpingou")>-1;var S=O.allowjdapp==1;var C=f.indexOf("jdapp")>=0;var L=O.imkadaptblankpagerequest==1;var l=O.paramsencodegray==1;var T=null;var U=null;var D={};var M=IMKTOOLS.getCookie;var E=IMKTOOLS.parseURL(location.href).params.extension_id;var R=O.useulinvoke==1;function B(){P=window.__wxjs_environment==="miniprogram";var e=document.querySelector(".carousel-wrapper")||document.querySelector(".download-pannel.download-noBg");if(P&&e&&e.parentNode)e.parentNode.style.display="none"}if(!window.WeixinJSBridge||!window.WeixinJSBridge.invoke){document.addEventListener("WeixinJSBridgeReady",B,false)}else{B()}if(f.indexOf("baiduboxapp")!=-1&&f.indexOf("light")!=-1){if(u&&(u==1||u==2||u==3)||m){}else{_=true;k=true}}var J=false;var N=null;var F={closeUaAjax:false,keplerAjax:false,configCenterAjax:false};var q={AROUSAL_APP:true,DOWNLOAD_LAYER:true,GENERAL_HEAD:true,msf_type:"auto",cooldown_time:0,scheme_prame:"",use_universallinks:true,appDownCloseIntervalTime:0,appDownOpenIntervalTime:0,downAppConfigData:null,isNewUser:false,isOpenWechat:true,wechetSchemeSw:0,sideDownAppConfigData:null,downAppUrl:"http://h5.m.jd.com/active/download/imk.html",mediaConfigData:null,test:{wxa_abtest:O.wxa_abtest}};var K={mediaTimes:"mediaTimes",stepTime:"stepTime",firstAdChannelURL:"firstAdChannelURL"};var W={keplerID:null,keplerFrom:1,keplerParamJson:null};var G={isUniversalLinksUa:false,isUniversalLinksOs:false,isUseUniversalLinks:false};var V={login_State:false,pcScan_Layer:null,newPeople_Layer:null};var z=location.href.indexOf("showSide=true")>-1||location.href.indexOf("showside=true")>-1?"&showside=true":"";var H={url:"//mapi.m.jd.com/config/display.action?isNewVersion=1&_format_=json"+z+Y(),method:"POST",async:true,timeout:1400,withCredentials:true,hasAjax:"configCenterAjax",hasAjaxSend:false,error:function(){F.configCenterAjax=true},success:function(t){F.configCenterAjax=true;try{t=JSON.parse(t);je(t)}catch(e){IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/configCenter/ajax/success/exception","configCenterAjaxPrame Exception："+e+", rs = "+t)}}};var X={url:"//mapi.m.jd.com/config/closeUa.action?isNewVersion=1&_format_=json",method:"POST",async:true,timeout:1200,hasAjax:"closeUaAjax",hasAjaxSend:false,error:function(){F.closeUaAjax=true},success:function(t){F.closeUaAjax=true;try{t=JSON.parse(t);if(t&&t.ua){t=JSON.parse(t.ua);be(t)}}catch(e){IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/closeUaAjaxPrame/ajax/success/exception","closeUaAjaxPrame Exception："+e+", rs = "+t)}}};function Y(){var e;var t;var n;t=location.href;e=t.indexOf("?");if(e>-1){n="&"+t.substring(e+1,t.length)}else{n=""}return n}function Q(e,t,n){if(i){o("#"+e).bind(t,n)}else{o("#"+e).addEventListener(t,n,!1)}}if(i){o=window.$;n=window.$}else{o=function(e){if(typeof e=="object"){return e}return document.querySelector(e)};if(!window.$){window.$=n=o}else{n=window.$}}window.onblur=function(){for(var e=0;e<r.length;e++){clearTimeout(r[e])}};function Z(e,t,n,o,a){var i=e+"="+escape(t);if(n!=""){var r=new Date;r.setTime(r.getTime()+n*24*3600*1e3);i+=";expires="+r.toGMTString()}if(o!=""){i+=";path="+o}if(a!=""){i+=";domain="+a}document.cookie=i}function ee(t,e){var n=["%5C"],o=false,a=[];if(e==2){n.forEach(function(e){if(t.indexOf(e)>-1){o=true;a.push(e)}})}return{illegal:o,illegalCharacters:a}}function te(e){if(!e)return false;var t=decodeURIComponent(e);if(e==t)return false;return true}function ne(e){if(!e)return false;if(e.indexOf("?")>0)return false;var t=decodeURIComponent(e);if(t.indexOf("?")>0)return true;if(e==t)return false;return true}function oe(e,t){try{var n=JSON.stringify(e);var o=ee(n,2);if(o.illegal)IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/convertOptions/url","optionsStr:"+n+", illegalJSONCharacters = "+o.illegalCharacters.join("_")+", CurrentURL = "+location.href)}catch(e){IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/convertOptions/url","e:"+e+",  CurrentURL = "+location.href)}var a=null;if(t){a={downAppURl:"//wqs.jd.com/downloadApp/imk.html?channel=jd-m",downAppIos:"//wqs.jd.com/downloadApp/imk.html",downWeixin:"http://a.app.qq.com/o/simple.jsp?pkgname=com.jingdong.app.mall&g_f=991850",downIpad:"https://itunes.apple.com/cn/app/jing-dong-hd/id434374726?mt=8",downAppIosPage:"//wqs.jd.com/downloadApp/imk.html",inteneUrl:"openapp.jdmobile://virtual?",inteneUrlParams:null,sourceType:"JSHOP_SOURCE_TYPE",sourceValue:"JSHOP_SOURCE_VALUE",M_sourceFrom:"mxz",NoJumpDownLoadPage:false,kepler_param:null,autoOpenAppEventId:"MDownLoadFloat_AppArouse",autoOpenAppEventParam:"",autoOpenIntervalTime:0,autoOpenAppCallback:null,autoOpenAppCallbackSource:null,cookieFlag:null,noJdApp:false,universalLinksUrl:"https://linkst.m.jd.com"}}else{a={downAppURl:"//wqs.jd.com/downloadApp/imk.html?channel=jd-m",downAppIos:"//wqs.jd.com/downloadApp/imk.html",downWeixin:"http://a.app.qq.com/o/simple.jsp?pkgname=com.jingdong.app.mall&g_f=991850",downIpad:"https://itunes.apple.com/cn/app/jing-dong-hd/id434374726?mt=8",downAppIosPage:"//wqs.jd.com/downloadApp/imk.html",inteneUrl:"openapp.jdmobile://virtual?",inteneUrlParams:null,openAppBtnId:"",closePanelBtnId:"",closePanelId:"",openAppCallback:null,openAppCallbackSource:null,closeCallblack:null,closeCallblackSource:null,cookieFlag:null,sourceType:"JSHOP_SOURCE_TYPE",sourceValue:"JSHOP_SOURCE_VALUE",openAppEventId:"MDownLoadFloat_OpenNow",openAppEventParam:"",closePanelEventId:"MDownLoadFloat_Close",closePanelEventParam:"",appDownCloseIntervalTime:0,appDownOpenIntervalTime:0,noRecord:false,isnotWriteOpenAppCookie:false,M_sourceFrom:"mxz",msf_type:"click",NoJumpDownLoadPage:false,kepler_param:null,noJdApp:false,universalLinksUrl:"https://linkst.m.jd.com"}}if(e){for(var i in e){if(i&&e[i]||i=="appDownCloseIntervalTime"&&e[i]==0||i=="appDownOpenIntervalTime"&&e[i]==0||i=="autoOpenIntervalTime"&&e[i]==0){if(i=="appDownCloseIntervalTime"||i=="appDownOpenIntervalTime"||i=="autoOpenIntervalTime"){var r=/^(-     |\+)?\d+$/;if(r.test(e[i])&&e[i]>=0){try{var s=parseInt(e[i],10);a[i]=s}catch(e){IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/convertOptions/intervalTime","ConvertOptions intervalTime："+e)}}}else{var l=e[i];if(i=="inteneUrlParams"&&l.url){if(ne(l.url)){IMKTOOLS.UMPService.umpBiz({operation:"50",result:"0",source:"0",message:"url param:"+l.url+",  CurrentURL = "+location.href})}else{l.url=encodeURIComponent(l.url)}}a[i]=l}}}}return a}function ae(e){var t=e&&e.inteneUrlParams&&(e.inteneUrlParams.des=="quickpass"||e.inteneUrlParams.des=="jdpaymentcode"||e.inteneUrlParams.des=="worthbuy_list")?ce(e,true):pe(e,true);var n=e.universalLinksUrl+"/ul/ul.action?"+t;if(navigator.userAgent.indexOf("baidubrowser")>=0){window.location.href=n}else{var o=document.createElement("a");o.setAttribute("href",n);o.style.display="none";document.body.appendChild(o);var a=document.createEvent("HTMLEvents");a.initEvent("click",!1,!1);o.dispatchEvent(a)}}function ie(e){if(e){if(location.href.indexOf("showxintent")>-1){var t=Je()?"自动唤起":"点击唤起";console.log("%c"+e,"color: blue;");alert(t+" >>>"+e)}}}function re(e){var t;var n;var o;if(w){return e.downIpad}if(e.downAppURl){var a=e.downAppURl.split("?");if(a[1]){o=a[1]}else{o="channel=jd-m"}}if(q.downLoadPageSchema){n=q.downLoadPageSchema;if(n==="o"){return"//wqs.jd.com/downloadApp/imk.html?"+o}if(n==="a"){return"//wqs.jd.com/downloadApp/downloadAppA.html?"+o}if(n==="b"){return"//wqs.jd.com/downloadApp/downloadAppB.html?"+o}}else{if(v){t=e.downAppIos}else{t=e.downAppURl}}return t}function se(o){var a=o&&o.inteneUrlParams&&(o.inteneUrlParams.des=="quickpass"||o.inteneUrlParams.des=="jdpaymentcode"||o.inteneUrlParams.des=="worthbuy_list")?ce(o):pe(o);var i=re(o);var e=function(){if(p&&b||A){var e=a;a=de(e);setTimeout(function(){window.location.href=a},50)}if(d&&g>=9||c||v&&navigator.userAgent.indexOf("MQQBrowser")>-1){setTimeout(function(){var e=document.createElement("a");e.setAttribute("href",a);e.style.display="none";document.body.appendChild(e);var t=document.createEvent("HTMLEvents");t.initEvent("click",!1,!1);e.dispatchEvent(t)},0)}else{if(!I&&L){var t=document.createElement("iframe");t.id=x;t.src=a;document.body.appendChild(t);document.getElementById(x).style.display="none";document.getElementById(x).style.width="0px";document.getElementById(x).style.height="0px";I=true}else{document.querySelector("#"+x).src=a}}if(!o.NoJumpDownLoadPage){var n=Date.now();setTimeout(function(){var e=setTimeout(function(){le(n,i)},1500)},100)}};a=at(a);var t="";var n=o.inteneUrl.split("://");var r=(n[1]||"").split("?");var s="";if(q.scheme_prame){s="/"+q.scheme_prame}if(r.length==2&&r[1]){t=r[0]+s+"?"+r[1]+"&params="}else{t=r[0]+s+"?"+"params="}var l=a.split(t)[1];l=decodeURIComponent(l);try{JSON.parse(l)}catch(e){IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/jsonParseError","params json parse Exception："+e+",encodeGray="+q.encodeGray+",  CurrentURL = "+location.href)}ie(a);if(q.isOpenWechat&&navigator.userAgent.indexOf("MicroMessenger")>-1){if(P)return;new wxOpenApp(l,{splitStr:t,configCenter:q,NoJumpDownLoadPage:o.NoJumpDownLoadPage})}else{if(q.encodeGray){a=n[0]+"://"+t+encodeURIComponent(l)}e()}}function le(e,t){var n=Date.now();if(e&&n-e<5e3){window.location.href=t}}function pe(e,t){if(E)return ce(e,t);var n=[];var o=e.inteneUrlParams;var a={category:"jump",des:"HomePage"};if(e.sourceType&&e.sourceValue){a.sourceType=e.sourceType;a.sourceValue=e.sourceValue;if(o&&!o.sourceType&&!o.sourceValue){o.sourceType=e.sourceType;o.sourceValue=e.sourceValue}}if(e&&e.M_sourceFrom){if(t){e.M_sourceFrom=e.M_sourceFrom.indexOf("_UL")>=0?e.M_sourceFrom:e.M_sourceFrom+"_UL"}a.M_sourceFrom=e.M_sourceFrom;if(o){o.M_sourceFrom=e.M_sourceFrom}}if(o){for(var i in o){if(i&&o[i]){if(Object.prototype.toString.call(o[i])==="[object Object]"){n.push('"'+i+'":'+JSON.stringify(o[i]))}else{n.push('"'+i+'":"'+o[i]+'"')}}}}else{for(var i in a){if(i&&a[i]){n.push('"'+i+'":"'+a[i]+'"')}}}if(e&&e.msf_type){n.push('"msf_type":"'+e.msf_type+'"')}if(W.keplerID){if(q.encodeGray){n.push('"keplerID":"'+W.keplerID+'"')}else{n.push('"keplerID":"'+encodeURIComponent(W.keplerID)+'"')}n.push('"keplerFrom":"'+W.keplerFrom+'"')}if(W.keplerParamJson){if(q.encodeGray){n.push('"kepler_param":'+W.keplerParamJson)}else{n.push('"kepler_param":'+encodeURIComponent(W.keplerParamJson))}}if(t){n.push('"NoJumpDownLoadPage":'+e.NoJumpDownLoadPage);n.push('"downAppIos":"'+encodeURIComponent(e.downAppIos)+'"');n.push('"locationHref":"'+encodeURIComponent(window.location.href)+'"')}try{var r=window.MPing&&MPing.EventSeries&&MPing.EventSeries.getSeries&&MPing.EventSeries.getSeries();var s={};if(r){try{if(te(r)){IMKTOOLS.UMPService.umpBiz({operation:"30",result:"0",source:"0",message:"m_param:"+r+", isEncoded"+", CurrentURL = "+location.href})}}catch(e){}s=JSON.parse(r);for(var i in s){if(i&&s[i]){s[i]=!q.encodeGray&&(i=="utr"||i=="umd"||i=="ucp")?encodeURIComponent(s[i]):s[i]}}if(e.jdv){s["jdv"]=e.jdv}else{s["jdv"]=!q.encodeGray?encodeURIComponent(M("__jdv")):M("__jdv")}s["unpl"]=!q.encodeGray?encodeURIComponent(M("unpl")):M("unpl");s["mt_xid"]=!q.encodeGray?encodeURIComponent(M("mt_xid")):M("mt_xid");s["mt_subsite"]=!q.encodeGray?encodeURIComponent(M("mt_subsite")):M("mt_subsite")}var l={};if(q.encodeGray){l={mt_subsite:M("mt_subsite"),__jdv:M("__jdv"),unpl:M("unpl"),__jda:M("__jda")}}else{l={mt_subsite:encodeURIComponent(M("mt_subsite")),__jdv:encodeURIComponent(M("__jdv")),unpl:encodeURIComponent(M("unpl")),__jda:encodeURIComponent(M("__jda"))}}r=JSON.stringify(s);if(!C){n.push('"m_param":'+r);n.push('"SE":'+JSON.stringify(l))}if(h){n.push('"dl_abtest":"'+encodeURIComponent(h)+'"')}}catch(e){n.push('"m_param":null');IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/getIntentUrl","getIntentUrl() Exception："+e+",encodeGray="+q.encodeGray)}var p="{"+n.join(",")+"}";try{var c=ee(p,1);if(c.illegal)IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/getIntentUrl","parametersStr:"+p+", illegalCharacters = "+c.illegalCharacters.join("_")+", CurrentURL = "+location.href);c=ee(p,2);if(c.illegal)IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/getIntentUrl","parametersStr:"+p+", illegalJSONCharacters = "+c.illegalCharacters.join("_")+", CurrentURL = "+location.href)}catch(e){IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/getIntentUrl","e:"+e+",  CurrentURL = "+location.href)}var d=e.inteneUrl.split("?");var u=null;var m="";if(q.scheme_prame){m="/"+q.scheme_prame}if(d.length==2&&d[1]){u=d[0]+m+"?"+d[1]+"&params="+p}else{u=d[0]+m+"?"+"params="+p}if(J){var f={url:"//ccc-x.jd.com/dsp/op?openapp_url="+encodeURI(p)+"&openapp_source_type=100",method:"GET",async:true,timeout:1e3,error:function(){},success:function(e){}};ge(f)}return u}function ce(e,t){var n=e.inteneUrlParams||{};if(e.sourceType&&e.sourceValue){if(!n.sourceType&&!n.sourceValue){n.sourceType=e.sourceType;n.sourceValue=e.sourceValue}}if(e&&e.M_sourceFrom){if(t){e.M_sourceFrom=e.M_sourceFrom.indexOf("_UL")>=0?e.M_sourceFrom:e.M_sourceFrom+"_UL"}n.M_sourceFrom=e.M_sourceFrom}if(e&&e.msf_type)n.msf_type=e.msf_type;if(W.keplerID){n.keplerID=W.keplerID;n.keplerFrom=W.keplerFrom}if(W.keplerParamJson)n.kepler_param=W.keplerParamJson;if(t){n.NoJumpDownLoadPage=e.NoJumpDownLoadPage;n.downAppIos=encodeURIComponent(e.downAppIos);n.locationHref=encodeURIComponent(window.location.href)}try{var o=window.MPing&&MPing.EventSeries&&MPing.EventSeries.getSeries&&MPing.EventSeries.getSeries();var a={};if(o){a=JSON.parse(o);for(var i in a){if(i&&a[i]){a[i]=!q.encodeGray&&(i=="utr"||i=="umd"||i=="ucp")?encodeURIComponent(a[i]):a[i]}}if(e.jdv){a["jdv"]=e.jdv}else{a["jdv"]=M("__jdv")}a["unpl"]=M("unpl");a["mt_xid"]=M("mt_xid");a["mt_subsite"]=M("mt_subsite")}var r={mt_subsite:M("mt_subsite"),__jdv:M("__jdv"),unpl:M("unpl"),__jda:M("__jda")};if(!C){n.m_param=a;n.SE=r}if(h)n.dl_abtest=encodeURIComponent(h)}catch(e){n.m_param=null}if(E)n.ext=rt(E);var s=JSON.stringify(n);var l=e.inteneUrl.split("?");var p=null;var c="";if(q.scheme_prame){c="/"+q.scheme_prame}if(l.length==2&&l[1]){p=l[0]+c+"?"+l[1]+"&params="+s}else{p=l[0]+c+"?"+"params="+s}if(J){var d={url:"//ccc-x.jd.com/dsp/op?openapp_url="+encodeURI(s)+"&openapp_source_type=100",method:"GET",async:true,timeout:1e3,error:function(){},success:function(e){}};ge(d)}return p}function de(e){return"intent://m.jd.com/#Intent;scheme="+e+";package=com.jingdong.app.mall;end"}function ue(e){if(j&&(!ve()||!IMKTOOLS.isInM_item())){if(q.wxDownloadSchema=="a"){if(b){var t=document.querySelector("#imkWxDownloadTipContainer");if(t){t.style.display="block";Ie("MGuide_WXTopFloatAExpo");return}}}else if(q.wxDownloadSchema=="b"||q.wxDownloadSchema=="c"){var n=re(U),o=n&&n.split("?")[1],a="";try{if(T){delete T.openAppBtnId;delete T.closePanelBtnId;delete T.closePanelId;delete T.NoJumpDownLoadPage;delete T.downAppIos;if(T.downAppURl){T.a=T.downAppURl.split("?")[1];delete T.downAppURl}if(T.downWeixin){T.w=T.downWeixin.split("?")[1];delete T.downWeixin}if(T.downIpad){T.w=T.downIpad.split("?")[1];delete T.downIpad}if(T.inteneUrlParams&&h){T.inteneUrlParams.dl_abtest=h}a=JSON.stringify(T)}}catch(e){}var i=q.wxDownloadSchema=="b"?"https://wqs.jd.com/downloadApp/openApp.html?":"https://wqs.jd.com/downloadApp/openOrDownloadApp.html?";i+=o+"&imkParam="+encodeURIComponent(a);window.location.href=i;return}}Be("0");if(!I&&!L){var r=document.createElement("iframe");r.id=x;document.body.appendChild(r);document.getElementById(x).style.display="none";document.getElementById(x).style.width="0px";document.getElementById(x).style.height="0px";I=true}if(e.openAppCallback){var s=e.openAppCallbackSource?e.openAppCallbackSource:null;e.openAppCallback.call(this,s)}he(e,"appDownOpenIntervalTime");Ee(e);if((G.isUseUniversalLinks||R)&&!e.noJdApp){ae(e)}else{se(e)}}function me(e,n){if(e.openAppBtnId&&document.querySelector("#"+e.openAppBtnId)){a[e.openAppBtnId]=e;if(e&&e.M_sourceFrom&&e.M_sourceFrom=="mxz"){if(e.openAppEventParam){e.openAppEventParam=e.openAppEventParam+"_other_"+window.location.hostname}else{e.openAppEventParam="other_"+window.location.hostname}}xe(e.openAppBtnId,e.openAppEventId,e.openAppEventParam);Q(e.openAppBtnId,"click",function(){var e=this.getAttribute("id");var t=a[e];D[e]=t;if(!n)ue(t)})}}function fe(e,t){if(e.closePanelBtnId&&e.closePanelId&&document.querySelector("#"+e.closePanelId)&&document.querySelector("#"+e.closePanelBtnId)){a[e.closePanelBtnId]=e;xe(e.closePanelBtnId,e.closePanelEventId,e.closePanelEventParam);if(!t){if(we(e)){document.querySelector("#"+e.closePanelId).style.display="none";if(e.closeCallblack){var n=event||window.event;var o=e.closeCallblackSource?e.closeCallblackSource:null;e.closeCallblack.call(this,o,n)}return}else{document.querySelector("#"+e.closePanelId).style.display="block"}}Q(e.closePanelBtnId,"click",function(){var e=this.getAttribute("id");var t=a[e];he(t,"appDownCloseIntervalTime");document.querySelector("#"+t.closePanelId).style.display="none";if(t.closeCallblack){var n=event||window.event;var o=t.closeCallblackSource?t.closeCallblackSource:null;t.closeCallblack.call(this,o,n)}})}}function he(e,t){var n=null;if(e.cookieFlag&&e[t]){n="downloadAppPlugIn_downCloseDate"+"_"+e.cookieFlag}else{n="downloadAppPlugIn_downCloseDate";e[t]=q[t]}if(!e.isnotWriteOpenAppCookie&&e[t]){if(document.domain.indexOf(".m.jd.com")<0&&document.domain!="m.jd.com"){Ne(n,e[t])}else{Z(n,Date.now()+"_"+e[t],60,"/",".m.jd.com");Z(n,Date.now()+"_"+e[t],60,"/","m.jd.hk")}}}function we(e,t){if(ve()&&IMKTOOLS.isInM_item())return false;if(t&&j&&(q.wxDownloadSchema=="a"&&b||q.wxDownloadSchema=="b"||q.wxDownloadSchema=="c"))return true;if(t&&!j&&b&&O.action=="openbrowser")return false;var n=M(K.mediaTimes);var o=M(K.stepTime);if(n&&o){var a=parseInt(n);var i=parseInt(o);if(a&&i&&a>0&i>0){if(a%i==0){return false}}return true}var r=false;var s=null;if(t){if(q.msf_type&&q.msf_type=="auto"){s=e.cookieFlag&&e.autoOpenIntervalTime?"autoOpenApp_downCloseDate"+"_"+e.cookieFlag:"autoOpenApp_downCloseDate"+"_"+q.msf_type}else{s="autoOpenApp_downCloseDate"+"_"+q.msf_type}if(_||!q.AROUSAL_APP){r=true}}else{var l=f.indexOf("jdmsxh");var p=f.indexOf("jdmsxh2");if(f.indexOf("Html5Plus")>=0||l>=0&&l!=p||k||!q.DOWNLOAD_LAYER){r=true}s=e.cookieFlag&&e.appDownCloseIntervalTime?"downloadAppPlugIn_downCloseDate"+"_"+e.cookieFlag:"downloadAppPlugIn_downCloseDate"}var c=M(s);if(!c&&F.configCenterAjax&&document.domain.indexOf(".m.jd.com")<0&&document.domain!="m.jd.com"&&N&&N.hasOwnProperty(s)){c=N[s]}var d=null;if(c){d=c.split("_");if(d.length==2){d[0]=parseInt(d[0],10);d[1]=parseInt(d[1],10)}else{d=null}}var u=Date.now();if(!r&&!e.noRecord&&d&&d.length==2&&u-d[0]<d[1]&&(e.closePanelBtnId||t)){r=true}return r}function ve(){return h=="a"||h=="b"}function ge(n){var o;try{o=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{o=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){o=new XMLHttpRequest}}o.ajaxRunError=true;if(n.withCredentials){try{o.withCredentials=true}catch(e){}}if(location.host==="storage.360buyimg.com"&&location.href.indexOf("mvision/middle")>-1){n.method="GET"}try{o.open(n.method,n.url,n.async);o.onreadystatechange=function(){var e=n.source?n.source:null;if(o.readyState==4){if(o.status==200){o.ajaxRunError=false;var t=o.responseText;n.success&&n.success.call(e,t)}else{n.error&&n.error.call(e)}}};if((v||w)&&navigator.userAgent.indexOf("QQBrowser")>-1){o.send("xxxxx=ccccc")}else{o.send(null)}}catch(e){}}function ye(t){var e="MAuthentication";var n=document.createElement("script");var o=function(){Ae(n);delete window[e]};var a=function(){o()};window[e]=function(e){t.callback.call(this,e);o()};n.onerror=function(){a()};n.onload=function(){a()};n.src=t.url+"&callbackName="+e;document.getElementsByTagName("head")[0].appendChild(n)}function Ae(e){var t=e.parentNode;if(t){t.removeChild(e)}}function xe(e,t,n){try{var o=document.getElementById(e);var a=o.className;if(a){a=a+" J_ping"}else{a="J_ping"}o.className=a;o.setAttribute("report-eventid",t);if(n){o.setAttribute("report-eventparam",n)}}catch(e){}}function Ie(e,t){if(!window.MPing)return;try{var n=new MPing.inputs.Click(e);if(t){n.event_param=t}var o=new MPing;o.send(n)}catch(e){console.log("imk2 send ping error: %o ",e)}}function ke(e,t,n){var o=t?t:1;var a=n?true:false;if(!we(e)&&e.closePanelId){var i=document.getElementById(e.closePanelId);if(i){var r=i.getBoundingClientRect();var s=r.height||r.bottom-r.top;var l=_e(i,"opacity");var p=_e(i,"display");if(p&&s&&p!="none"&&s==0){a=true}else if(s&&l&&s==50&&l==0){a=true}}else{a=true}if(o<3&&a==false){o++;setTimeout(function(){ke(e,o,a)},2e3)}}if(a){try{if(window.MPing){var c=new MPing.inputs.Click("MDownLoadFloat_FloatShield");var d=new MPing;c.event_param=e.openAppEventId;d.send(c)}var u={url:"//mapi.m.jd.com/config/checkShield.action?isNewVersion=1&_format_=json",method:"POST",async:true,timeout:1e3};ge(u)}catch(e){IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/checkShield","checkShield() Exception："+e)}}}function _e(e,t){if(e.currentStyle){return e.currentStyle[t]}else{return document.defaultView.getComputedStyle(e,false)[t]}}function Se(e,t){var n=t?false:we(e.funcPrame);var o=true;if(!n&&e&&Array.isArray(e.ajaxPrame)&&e.ajaxPrame.length>0){e.ajaxPrameIsArray=true;for(var a=0;a<e.ajaxPrame.length;a++){if(!F[e.ajaxPrame[a].hasAjax]){o=false;if(!e.ajaxPrame[a].hasAjaxSend){ge(e.ajaxPrame[a]);e.ajaxPrame[a].hasAjaxSend=true}}}}else if(!n&&!F[e.ajaxPrame.hasAjax]){o=false;if(!e.ajaxPrame.hasAjaxSend){ge(e.ajaxPrame);e.ajaxPrame.hasAjaxSend=true}}if(o){Oe(e.funcList,e.funcPrame)}else{Ce(e)}}function Ce(e,t){var n=t?t:0;var o=true;if(e.ajaxPrameIsArray){for(var a=0;a<e.ajaxPrame.length;a++){if(!F[e.ajaxPrame[a].hasAjax]){o=false;break}}}else{o=F[e.ajaxPrame.hasAjax]}if(e.funcList&&e.funcList.length>0){if(o){Oe(e.funcList,e.funcPrame)}else{setTimeout(function(){n++;if(n<15){Ce(e,n)}else{Oe(e.funcList,e.funcPrame)}},100)}}}function Oe(e,t){if(e.length==1&&Object.prototype.toString.apply(e)==="[object Function]"){e(t)}else{for(var n=0;n<e.length;n++)e[n](t)}}function be(e){if(e){if(e&&e.clickCloseUa){var t=e.clickCloseUa.split("|");for(var n=0;n<t.length;n++){var o=t[n];if(o&&f.indexOf(o)>=0){k=true;break}}}if(e&&!k&&e.closeUaMoreKeys){for(var n=0;n<e.closeUaMoreKeys.length;n++){var a=e.closeUaMoreKeys[n];if(a&&a.uaMoreKeys){var i=a.uaMoreKeys.split("|");var r=0;var s=0;for(var l=0;l<i.length;l++){var p=i[l];if(p)s++;if(p&&f.indexOf(p)>=0)r++}k=s==r?true:k}if(k)break}}if(e&&e.autoCloseBrowser){for(var n=0;n<e.autoCloseBrowser.length;n++){var p=e.autoCloseBrowser[n];if(p.browser&&p.abtest&&f.indexOf(p.browser)>=0){Me(p.abtest);break}}}if(!_&&e&&e.autoCloseOs){for(var n=0;n<e.autoCloseOs.length;n++){var p=e.autoCloseOs[n];if(p.os=="IOS"&&p.abtest&&(w||v)){Me(p.abtest);break}else if(p.os=="Android"&&p.abtest&&b){Me(p.abtest);break}}}if(!_&&e&&e.autoCloseOsAndBrowser){for(var n=0;n<e.autoCloseOsAndBrowser.length;n++){var p=e.autoCloseOsAndBrowser[n];if(p.os&&p.browser&&p.abtest&&p.os=="IOS"&&(w||v)&&f.indexOf(p.browser)>=0){Me(p.abtest);break}if(p.os&&p.browser&&p.abtest&&p.os=="Android"&&b&&f.indexOf(p.browser)>=0){Me(p.abtest);break}}}if(_&&f.indexOf("jdapp")>=0&&S){_=false}if(e&&e.universalLinksUa){var c=e.universalLinksUa.split("|");for(var n=0;n<c.length;n++){var o=c[n];if(o&&f.indexOf(o)>=0&&!b){G.isUniversalLinksUa=true;break}}}if(e&&e.universalLinksOs){var d=e.universalLinksOs.split("|");for(var n=0;n<d.length;n++){var o=d[n];if(o&&y&&o==y&&y>8){G.isUniversalLinksOs=true;break}}}if(e&&e.appDownCloseIntervalTime){q.appDownCloseIntervalTime=e.appDownCloseIntervalTime}if(e&&e.appDownOpenIntervalTime){q.appDownOpenIntervalTime=e.appDownOpenIntervalTime}if(f.indexOf("baiduboxapp")!=-1&&f.indexOf("light")!=-1){if(u&&(u==1||u==2||u==3)||m){}else{_=true;k=true}}}}function je(e){if(e){if(e.data){for(var t=0;t<e.data.length;t++){var n=e.data[t];if(n.compent&&q.hasOwnProperty(n.compent)){q[n.compent]=n.display;if(n.compent=="AROUSAL_APP"&&n.msf_type){q.msf_type=n.msf_type;if(e.cooldown&&e.cooldown[n.msf_type]){q.cooldown_time=e.cooldown[n.msf_type]}if(n.openAppParam){q.scheme_prame=n.openAppParam}if(n.hasOwnProperty("isSpportUL")&&!n.isSpportUL){q.use_universallinks=false}}}}}if(e.kepler){if(e.kepler.kepler_data&&e.kepler.kepler_data.keplerID&&e.kepler.kepler_data.keplerFrom){W.keplerID=e.kepler.kepler_data.keplerID;W.keplerFrom=e.kepler.kepler_data.keplerFrom}if(e.kepler.kepler_param){W.keplerParamJson=JSON.stringify(e.kepler.kepler_param)}}if(e.isNewUser){q.isNewUser=true}if(e.loginState){V.login_State=e.loginState}if(e.shieldingLayer){V.pcScan_Layer=e.shieldingLayer.pcScan_Layer||"";V.newPeople_Layer=e.shieldingLayer.newPeople_Layer||""}if(e.openSendOutUrl){J=e.openSendOutUrl}if(e.coolDownTimeUtil){N=e.coolDownTimeUtil}if(e.downAppConfigData){q.downAppConfigData=e.downAppConfigData}q.isOpenWechat=e.isOpenWechat?true:false;if(e.sideDownAppConfigData){q.sideDownAppConfigData=e.sideDownAppConfigData}if(e.downAppUrl){q.downAppUrl=e.downAppUrl}if(e.mediaConfigData){q.mediaConfigData=e.mediaConfigData}if(e.carouselDownAppConfigData){q.carouselDownAppConfigData=e.carouselDownAppConfigData}if(e.openAppParaFromUcc){q.openAppParaFromUcc=e.openAppParaFromUcc}if(e.downLoadPageSchema){q.downLoadPageSchema=e.downLoadPageSchema}if(e.wxDownloadSchema){q.wxDownloadSchema=e.wxDownloadSchema}if(e.wechetSchemeSw){q.wechetSchemeSw=e.wechetSchemeSw}if(h){q.wxDownloadSchema=h=="a"?b?"a":"c":h;if(ve()&&IMKTOOLS.isInM_item()){q.wxDownloadSchema="o";q.isOpenWechat=true}}if(e.imkFrontGray){q.imkFrontGray=e.imkFrontGray;q.encodeGray=l||b||e.imkFrontGray&&e.imkFrontGray.iosEncodeGray;q.fixedSideLayerGray=e.imkFrontGray&&e.imkFrontGray.fixedSideLayerGray}}}function Pe(){try{var e;var t;var n=navigator.userAgent;if(q.sideDownAppConfigData){e=q.sideDownAppConfigData;if(e.closeUa){t=e.closeUa.split("|");for(var o=0,a=t.length;o<a;o++){if(t[o].trim()==""){continue}if(n.indexOf(t[o].trim())>-1){return}}}Te(q)}}catch(e){}}function Le(){this.addEventListener("touchmove",function(e){e.preventDefault(e);e.stopPropagation();this.style.transition="";var t=e.changedTouches[0].clientX>=0&&e.changedTouches[0].clientX<document.documentElement.clientWidth-this.offsetWidth;var n=e.changedTouches[0].clientY>=0&&e.changedTouches[0].clientY<document.documentElement.clientHeight-this.offsetHeight;if(t||n){this.style.right="auto";this.style.left=e.changedTouches[0].clientX+"px";this.style.top=e.changedTouches[0].clientY+"px"}});this.addEventListener("touchend",function(){var e=5;var t=this.getBoundingClientRect().left+this.offsetWidth/2;if(document.documentElement.clientWidth/2>=t){this.style.left=e+"px"}else{this.style.left=document.documentElement.clientWidth-this.offsetWidth-e+"px"}var n=this.getBoundingClientRect();var o=document.documentElement.clientHeight-this.offsetHeight-e;if(n.top<=0){this.style.top=e+"px"}else if(n.top>=o){this.style.top=o+"px"}var a=document.documentElement.clientWidth-this.offsetWidth-e;if(n.left<=0){this.style.left=e+"px"}else if(n.left>=a){this.style.left=a+"px"}this.style.transition="left 50ms ease-in"})}function Te(e){var t=e.sideDownAppConfigData;var n;var o;var a;try{t.jumpOpt?o=t.jumpOpt:"";n=document.getElementById("imk2Side");if(!n){n=document.createElement("div");n.id="imk2Side";a="position: fixed;  z-index: 9999; background-repeat: no-repeat; -webkit-background-size: cover; background-size: cover; -webkit-box-shadow: rgb(0, 0, 0) 0px 0px 12px 0px; box-shadow: rgb(0, 0, 0) 0px 0px 12px 0px; -webkit-border-radius: 6PX; border-radius: 6PX; transform: scale(0); transition: 800ms cubic-bezier(.17,.67,.72,1.49);  transform-origin: center;";n.setAttribute("style",a);n.style.right="calc("+t.positionX+" - "+t.width+" - 5px)";n.style.top=t.positionY;n.style.width=t.width;n.style.height=t.width;document.body.appendChild(n);var i={domId:"#imk2Side",lineWidth:5,base:0,skew:"135deg",lineColor:"rgba(255, 255, 255, .3)",intervalTime:17,time:"3",bgImage:t.iconUrl};var r=new CommmonLightLine(i);r.play();n.style.transform="scale(1)";var s=window.getComputedStyle(n,null).left;s=s.replace("px","");if(s<=0){n.style.right=document.documentElement.clientWidth-n.offsetWidth-5+"PX"}}Le.apply(n,null);var l=Ue();$.downloadAppPlugIn({openAppBtnId:"imk2Side",inteneUrl:"openapp.jdmobile://virtual?",inteneUrlParams:l,msf_type:"click",downAppURl:"//wqs.jd.com/downloadApp/imk.html?channel=jd-m&"+o,downAppIos:"//wqs.jd.com/downloadApp/imk.html?"+o,downWeixin:"http://a.app.qq.com/o/simple.jsp?pkgname=com.jingdong.app.mall&g_f=991850"+o,downIpad:"https://itunes.apple.com/cn/app/jing-dong-hd/id434374726?mt=8"+o,downAppIosPage:"//wqs.jd.com/downloadApp/imk.html?"+o});if(t.pingData&&n){n.addEventListener("click",function(){Ie(t.pingData.eventId)})}}catch(e){console.error(e)}}function Ue(){var e={};var t=location.host;function n(){var e=nt(location.href);var t=e["shopId"];var n={category:"jump",des:"jshopMain",shopId:t,sourceType:"showside",sourceValue:"true"};return n}function o(){var e="";var t=location.pathname.split("/");if(t&&t.length>0){e=t[t.length-1];e=e.replace(".html","")}var n={category:"jump",des:"productDetail",skuId:e,sourceType:"showside",sourceValue:"true"};return n}function a(){var e={action:"to",category:"jump",des:"getCoupon",url:encodeURIComponent("http://h5.m.jd.com/active/download/downLoadAppIOSMPage.html"),sourceType:"showside",sourceValue:"true"};return e}function i(){var e={category:"jump",des:"m",url:encodeURIComponent(location.href),sourceType:"showside",sourceValue:"true"};return e}function r(){var e={category:"jump",des:"DM",dmurl:location.href,sourceType:"showside",sourceValue:"true"};return e}function s(){var e={category:"jump",des:"seckill",sourceType:"showside",sourceValue:"true"};return e}function l(){var e={category:"jump",des:"couponCenter",sourceType:"showside",sourceValue:"true"};return e}switch(t){case"shop.m.jd.com":e=n();break;case"item.m.jd.com":e=o();break;case"h5.m.jd.com":e=a();break;case"pro.m.jd.com":e=i();break;case"sale.jd.com":e=r();break;case"ms.m.jd.com":e=s();break;case"coupon.m.jd.com":e=l();break}return e}function De(e){if(h=="b"&&IMKTOOLS.isInM_item())return;if(!we(e,true)){if(q.msf_type&&q.msf_type=="auto"){if(e.cookieFlag&&e.autoOpenIntervalTime){cookieName="autoOpenApp_downCloseDate"+"_"+e.cookieFlag}else{cookieName="autoOpenApp_downCloseDate"+"_"+q.msf_type;e.autoOpenIntervalTime=q.cooldown_time}}else{cookieName="autoOpenApp_downCloseDate"+"_"+q.msf_type;e.autoOpenIntervalTime=q.cooldown_time}if(e.autoOpenIntervalTime){if(document.domain.indexOf(".m.jd.com")<0&&document.domain!="m.jd.com"){Ne(cookieName,e.autoOpenIntervalTime)}else{Z(cookieName,Date.now()+"_"+e.autoOpenIntervalTime,60,"/",".m.jd.com");Z(cookieName,Date.now()+"_"+e.autoOpenIntervalTime,60,"/","m.jd.hk")}}Ee(e);if(e&&e.M_sourceFrom&&e.M_sourceFrom=="mxz"){if(e.autoOpenAppEventParam){e.autoOpenAppEventParam=e.autoOpenAppEventParam+"_other_"+window.location.hostname}else{e.autoOpenAppEventParam="other_"+window.location.hostname}}Ie(e.autoOpenAppEventId,e.autoOpenAppEventParam);e.msf_type=q.msf_type;if(e.autoOpenAppCallback){var t=e.autoOpenAppCallbackSource?e.autoOpenAppCallbackSource:null;e.autoOpenAppCallback.call(this,t)}if(R){ae(e)}else{se(e,true)}}}function Me(e){if(e&&s<=e){_=true}}function Ee(e){if(e&&e.kepler_param){W.keplerParamJson=e.kepler_param}if(W.keplerParamJson){Ie("MDownLoadFloat_ArouseParam",W.keplerParamJson)}}function Re(e){if(G.isUniversalLinksOs&&G.isUniversalLinksUa&&!e.noJdApp&&e.universalLinksUrl&&q.use_universallinks){G.isUseUniversalLinks=true}}function Be(e){window.IMK2_COMMON_OPTION.imk2OpenAppType=e}function Je(){return window.IMK2_COMMON_OPTION.imk2OpenAppType=="1"?true:false}n.isAutoOpenJDApp=Je;function Ne(e,t){try{var n=[];n.push('"'+e+'":"'+Date.now()+"_"+t+'"');ye({url:"//mapi.m.jd.com/cookie/addCookie.action?isNewVersion=1&cookiePrame="+"{"+n.join(",")+"}",callback:function(){}})}catch(e){IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/addCookieByJsonp","addCookieByJsonp() Exception："+e)}}function Fe(e){var t="";var n={downloadAppContentBtn:"立即打开",downloadAppContentBtnStyle:"",downloadAppContentDown:"新人领188元红包",downloadAppContentDownStyle:"",downloadAppContentUP:"打开京东APP购物",downloadAppContentUpStyle:"",downloadAppImg:"//img11.360buyimg.com/jdphoto/s640x100_jfs/t25471/63/982804166/2377/f8f633b9/5b850e48Nfd4e116b.png",downloadApplogo:"//img11.360buyimg.com/jdphoto/s80x80_jfs/t27847/91/107794072/6854/14716732/5b850ecaN644d2983.png"};if(e.downAppConfigData&&q.downAppConfigData&&q.downAppConfigData.hasOwnProperty("highPriority")&&!q.downAppConfigData.highPriority||e.downAppConfigData&&!q.downAppConfigData){n.downloadAppContentBtn=e.downAppConfigData.downloadAppContentBtn||"立即打开";n.downloadAppContentBtnStyle=e.downAppConfigData.downloadAppContentBtnStyle||"";n.downloadAppContentDown=e.downAppConfigData.downloadAppContentDown||"新人领188元红包";n.downloadAppContentDownStyle=e.downAppConfigData.downloadAppContentDownStyle||"";n.downloadAppContentUP=e.downAppConfigData.downloadAppContentUP||"打开京东APP购物";n.downloadAppContentUpStyle=e.downAppConfigData.downloadAppContentUpStyle||"";n.downloadAppImg=e.downAppConfigData.downloadAppImg||"//img11.360buyimg.com/jdphoto/s640x100_jfs/t25471/63/982804166/2377/f8f633b9/5b850e48Nfd4e116b.png";n.downloadApplogo=e.downAppConfigData.downloadApplogo||"//img11.360buyimg.com/jdphoto/s80x80_jfs/t27847/91/107794072/6854/14716732/5b850ecaN644d2983.png"}else if(q.downAppConfigData){n.downloadAppContentBtn=q.downAppConfigData.downloadAppContentBtn||"立即打开";n.downloadAppContentBtnStyle=q.downAppConfigData.downloadAppContentBtnStyle||"";n.downloadAppContentDown=q.downAppConfigData.downloadAppContentDown||"新人领188元红包";n.downloadAppContentDownStyle=q.downAppConfigData.downloadAppContentDownStyle||"";n.downloadAppContentUP=q.downAppConfigData.downloadAppContentUP||"打开京东APP购物";n.downloadAppContentUpStyle=q.downAppConfigData.downloadAppContentUpStyle||"";n.downloadAppImg=q.downAppConfigData.downloadAppImg||"//img11.360buyimg.com/jdphoto/s640x100_jfs/t25471/63/982804166/2377/f8f633b9/5b850e48Nfd4e116b.png";n.downloadApplogo=q.downAppConfigData.downloadApplogo||"//img11.360buyimg.com/jdphoto/s80x80_jfs/t27847/91/107794072/6854/14716732/5b850ecaN644d2983.png"}if(e.location){var o=e.location;t=' style = "'+o+'"'}var a='\t<div  id="'+e.tipId+'_div" '+t+' class="download-pannel download-noBg">'+'\t    <div class="pannel-bg"><img src="'+n.downloadAppImg+'"></div>'+'\t    <div id="'+e.tipId+'_x" class="download-close"><img src="//img11.360buyimg.com/jdphoto/s32x32_jfs/t24304/359/2532278428/1657/ed614023/5b850f6fN747fe6a5.png"></div>'+'\t    <div class="download-logo"><img src="'+n.downloadApplogo+'"></div>'+'\t    <div class="download-txt">'+'\t            <span class="download-content">'+'\t                <em style="'+n.downloadAppContentUpStyle+'" class="content-up">'+n.downloadAppContentUP+"</em>"+'\t                <em style="'+n.downloadAppContentDownStyle+'" class="content-down">'+n.downloadAppContentDown+"</em>"+"\t            </span>"+"\t    </div>"+'\t    <div id="'+e.tipId+'_trynow" class="download-action">'+'\t        <span style="'+n.downloadAppContentBtnStyle+'" class="font-large">'+n.downloadAppContentBtn+"</span>"+"\t    </div>"+"\t</div>";return a}function qe(){var e="\n             .carousel-wrapper{\n                width: 100%;\n                overflow: hidden;\n                position: relative;\n                height: 200px;\n                box-sizing: border-box;\n    \n            }\n            .carousel{\n                position: absolute;\n                z-index: 1;\n                left: 0;\n                top: 0;\n                padding: 0;\n                margin: 0;\n                height: 100%;\n                list-style: none;\n                box-sizing: border-box;\n    \n            }\n            .carousel li{\n                float: left;\n                position: absolute;\n                z-index: 1;\n                left: 0;\n                top: 0;\n                height: 100%;\n                box-sizing: border-box;\n    \n                /*border: 1px solid red;*/\n            }\n    \n            .m-carousel-item .m-carousel-item-col {\n                float: left;\n                width: 25%;\n                line-height: 45px;\n                height: 45px;\n                box-sizing: border-box;\n                text-align: center;\n                box-sizing: border-box;\n            }\n    \n            .carousel .m-carousel-item .m-carousel-item-col:nth-child(1){\n                width: 8%;\n            }\n            .carousel .m-carousel-item .m-carousel-item-col:nth-child(2){\n                width: 10%;\n            }\n            .carousel .m-carousel-item .m-carousel-item-col:nth-child(3) {\n                width: 57%;\n                white-space: nowrap;\n                overflow: hidden;\n                text-overflow: ellipsis;\n                font-size: 14px;\n            }\n            .carousel .m-carousel-item .m-carousel-item-col:nth-child(4){\n                width: 25%;\n                background-color: #F63515;\n                font-size: 14px;\n                color: #fff;\n                letter-spacing: 0;\n    \n            }\n    \n            .m-carousel-circle {\n                position: absolute;\n                bottom: 0;\n                left: 0;\n                z-index: 2;\n                padding: 0;\n                margin: 0;\n                list-style: none;\n                width: 100%;\n                background-color: transparent;\n                box-sizing: border-box;\n                padding: 3px 0;\n                text-align: center;\n                font-size: 0;\n                box-sizing: border-box;\n            }\n    \n            .m-carousel-circle .m-carousel-circle-item {\n                display: inline-block;\n                width: 3px;\n                height: 3px;\n                box-sizing: border-box;\n                border-radius: 50%;\n                margin: 0 3px;\n                box-sizing: border-box;\n            }\n    \n    \n    \n            .style-a .carousel li{\n                background-color: #333;\n                color: #fff;\n            }\n            .style-a .m-carousel-circle .m-carousel-circle-item{\n                background-color: #5C5C5C;\n            }\n            .style-a .m-carousel-circle .item-active{\n                background-color: #E5E5E5 !important;\n            }\n    \n    \n            .style-b .carousel li{\n                background-color: #fff;\n                color: #000;\n            }\n            .style-b .m-carousel-circle .m-carousel-circle-item{\n                background-color: #5C5C5C;\n            }\n            .style-b .m-carousel-circle .item-active{\n                background-color: #E5E5E5 !important;\n            }\n            .style-b .m-carousel-item .m-carousel-item-col:nth-child(4) {\n                width: 22%;\n                height: 30px;\n                line-height: 30px;\n                margin: 8px 1% 0 0;\n                border-radius: 5px;\n            }\n            ";var t=document.getElementsByTagName("head");if(t&&t[0]){var n=document.createElement("style");n.innerHTML=e;t[0].appendChild(n)}}function Ke(e){var t="http://m.360buyimg.com/mobilecms/jfs/t19480/10/1439571805/820/787bec2c/5ac9d730N04e6d766.png";var n=[];var o="a";var a=[];var i=0;var r;if(q.carouselDownAppConfigData){o=q.carouselDownAppConfigData.styleScheme==1?"a":"b";a=q.carouselDownAppConfigData.slides?q.carouselDownAppConfigData.slides:[];i=a.length;n.push('<ul class="carousel">');for(var s=0;s<i;s++){n.push('    <li class="m-carousel-item imk2-slide">');n.push('        <div class="m-carousel-item-col imk2-btn-close" id="m_common_tip_x_'+s+'" style="display: flex; align-items: center; justify-content: center;">');n.push('            <img src="//m.360buyimg.com/mobilecms/jfs/t19480/10/1439571805/820/787bec2c/5ac9d730N04e6d766.png" alt="京东" style="width: 10px; vertical-align: middle;  margin-top: 0px">');n.push("        </div>");n.push('        <div class="m-carousel-item-col" style="display: flex;  align-items: center; justify-content: center;"> ');n.push('            <img src="'+a[s].appLogo+'" alt="京东" style="width: 30px; vertical-align: middle; margin-top: 0px;"/>');n.push("        </div>");n.push('        <div class="m-carousel-item-col" style="padding-top: 2px">'+a[s].ad+"</div>");n.push('        <div class="m-carousel-item-col open-app-btn" style="padding-top: 2px" id="m_common_tip_trynow_'+s+'">'+a[s].openBtn.txt+"</div>");n.push("    </li>")}n.push("</ul>");if(a&&a.length>1){n.push('<ul class="m-carousel-circle">');for(var l=0;l<i;l++){if(l==0){n.push('    <li class="m-carousel-circle-item item-active"></li>')}else{n.push('    <li class="m-carousel-circle-item"></li>')}}n.push("</ul>")}var p=document.getElementById(e.tipId);var c=document.createElement("div");c.id=e.tipId+"_div";c.classList.add("carousel-wrapper");c.innerHTML=n.join(" ");p.appendChild(c);p.classList.add("style-"+o)}}function We(e){qe();Ke(e);var t=q.carouselDownAppConfigData.slides;var n=false;if(t&&t.length==1){n=true}var o=new mCarouselNew({warpperId:"#m_common_tip_div",intervel:3500,transitionTime:500,carouselHeight:45,stopCarousel:n});o.start()}function Ge(e){if(location.host==="m.jd.com"||location.host==="beta-m.m.jd.com"){var t=navigator.userAgent.indexOf("UCBrowser")>-1||navigator.userAgent.indexOf("MiuiBrowser")>-1;if(t)return""}if(P)return"";if(e){e.downloadAppPlugIn=e.downloadAppPlugIn?e.downloadAppPlugIn:{};e.downloadAppPlugIn.openAppBtnId=e.tipId+"_trynow";e.downloadAppPlugIn.closePanelBtnId=e.tipId+"_x";e.downloadAppPlugIn.closePanelId=e.tipId+"_div";var n=oe(e.downloadAppPlugIn);if(!we(n)){if(q.fixedSideLayerGray){var o=document.getElementById("imk2FixedSide");if(!o){o=document.createElement("div");o.id="imk2FixedSide";var a="position: fixed;  z-index: 999; right: 0; height: 30px; line-height: 30px; background: #E93B3D; border-radius: 15px 0 0 15px; color: #FFF; font-size: 12px; padding: 0 27px 0 10px;";if(location.host=="shop.m.jd.com"){a+="top: 200px;"}else if(location.host=="item.m.jd.com"){a+="top: 90px;"}else{a+="top: 58px;"}o.setAttribute("style",a);var i=document.createTextNode("打开京东APP");o.appendChild(i);var r=document.createElement("span");r.setAttribute("style","position: absolute; right: 12px; top: 11px; transform: translate(0, -50%); width: 6px; height: 6px; border-top: #FFF 2px solid;border-right: #FFF 2px solid; transform: rotate(45deg);");o.appendChild(r);document.body.appendChild(o);e.downloadAppPlugIn.openAppBtnId="imk2FixedSide";Q("imk2FixedSide","click",function(){if(e.onClickTrynow){e.onClickTrynow.call(this)}});if(e.callFunShowTip){e.callFunShowTip.call(this)}var s=e.downloadAppPlugIn.downAppURl||"";var l=W.keplerParamJson;s=s.indexOf("M_sourceFrom")>=0?s:s+"&M_sourceFrom="+e.downloadAppPlugIn.M_sourceFrom;s=s.indexOf("isneworold")<0&&q.isNewUser?s+"&isneworold=new":s;if(l&&l.source&&l.channel){s=s.indexOf("kplsource")>=0?s:s+"&kplsource="+l.source;s=s.indexOf("kplchannel")>=0?s:s+"&kplchannel="+l.channel}e.downloadAppPlugIn.downAppURl=s;Xe(e.downloadAppPlugIn)}}else if(typeof q.carouselDownAppConfigData=="undefined"){var p=document.querySelector('[href*="commonHeader.min.css"]'),c=document.querySelector('[href$="imk_component.min.css"]');if(!p&&!c){var d=document.querySelector("head");var u=document.createElement("link");u.setAttribute("rel","stylesheet");u.setAttribute("type","text/css");u.setAttribute("href","//wq.360buyimg.com/fd/h5/wxsq_dev/m_common/css/imk_component.min.css");d.appendChild(u)}var m=Fe(e);document.getElementById(e.tipId).innerHTML=m;if(location.host=="m.jd.com"){var f=document.querySelector("#m_common_tip_div");if(f){f.style.height="50PX"}}Ie("MDownLoadFloat_TopOldExpo",location.host,"");Q(e.tipId+"_x","click",function(){if(e.onClickTipX){e.onClickTipX.call(this)}});Q(e.tipId+"_trynow","click",function(){if(e.onClickTrynow){e.onClickTrynow.call(this)}});if(e.callFunShowTip){e.callFunShowTip.call(this)}var s=e.downloadAppPlugIn.downAppURl||"";var l=W.keplerParamJson;s=s.indexOf("M_sourceFrom")>=0?s:s+"&M_sourceFrom="+e.downloadAppPlugIn.M_sourceFrom;s=s.indexOf("isneworold")<0&&q.isNewUser?s+"&isneworold=new":s;if(l&&l.source&&l.channel){s=s.indexOf("kplsource")>=0?s:s+"&kplsource="+l.source;s=s.indexOf("kplchannel")>=0?s:s+"&kplchannel="+l.channel}e.downloadAppPlugIn.downAppURl=s;Xe(e.downloadAppPlugIn)}else{We(e);if(e.callFunShowTip){e.callFunShowTip.call(this)}var h=q.carouselDownAppConfigData.slides;Ie("MDownLoadFloat_TopNewExpo",location.host+"_"+h.length);var w=document.querySelectorAll("#m_common_tip_div .imk2-btn-close");var v=document.querySelectorAll("#m_common_tip_div .open-app-btn");var g=w.length;for(var y=0;y<g;y++){Q(e.tipId+"_x_"+y,"click",function(){if(e.onClickTipX){e.onClickTipX.call(this)}});w[y].addEventListener("click",function(){q.isnotWriteOpenAppCookie=false;he(q,"cooldown_time");document.querySelector("#"+e.tipId+"_div").style.display="none";Ie("MDownLoadFloat_Close")});Q(e.tipId+"_trynow_"+y,"click",function(){if(e.onClickTrynow){e.onClickTrynow.call(this)}});e.downloadAppPlugIn.openAppBtnId=e.tipId+"_trynow_"+y;Xe(e.downloadAppPlugIn);if(h[y].openBtn.pingData.eventId){v[y].setAttribute("report-eventid",h[y].openBtn.pingData.eventId)}if(h[y].openBtn.pingData.eventParas){v[y].setAttribute("report-eventparam",h[y].openBtn.pingData.eventParas)}if(h[y].openBtn.pingData.eventLevel){v[y].setAttribute("report-eventlevel",h[y].openBtn.pingData.eventLevel)}}}var d=document.querySelector("head");if(j){if(q.wxDownloadSchema!="a")return;if(!b)return;var A=location.href;if(!O.action){if(A.indexOf("?")>0){A+="&action=openBrowser"}else{A+="?action=openBrowser"}}history.replaceState(null,"imk page",A);var x=document.querySelector('[href*="imk_wx_tip.min.css"]');if(!x){var u=document.createElement("link");u.setAttribute("rel","stylesheet");u.setAttribute("type","text/css");u.setAttribute("href","//wq.360buyimg.com/fd/h5/wxsq_dev/m_common/css/imk_wx_tip.min.css");d.appendChild(u)}var I=document.querySelector("#imkWxDownloadTipContainer");if(!I){var k='<div class="tip_container">'+'<div class="question">在微信中无法打开？</div>'+'<div class="solution">'+"点击右上角图标"+'&nbsp;<i class="arrow"></i>&nbsp;'+"选择在浏览器"+'&nbsp;<i class="browser"></i>&nbsp;'+"中打开"+"</div>"+"</div>";var _=document.createElement("div");_.setAttribute("id","imkWxDownloadTipContainer");_.setAttribute("class","imk_tip_container");document.body.appendChild(_);_.innerHTML=k;Q("imkWxDownloadTipContainer","click",function(e){var t=e.srcElement||e.target;if(t.className=="imk_tip_container")document.querySelector("#imkWxDownloadTipContainer").style.display="none"})}}else{if(O.action!="openbrowser"||!b)return;window.imkDownloadAppURl=e.downloadAppPlugIn.downAppURl;var S=document.querySelector('[src*="imk_download_pannel.min.js"]');if(!S){var C=document.createElement("script");C.setAttribute("src","//wq.360buyimg.com/js/common/dest/wq.imk.downloadPannel.min.js");d.appendChild(C)}}}}}function Ve(e,t){if(location.href.indexOf("showxintent=")>-1){alert("唤起类型："+e+", 唤起参数："+JSON.stringify(t))}}function ze(e){if(P)return;var t=e.openAppBtnId;if(!t||!D[t])return;D[t]=null;var n=oe(e);U=n;ue(n)}n.asyncDownloadAppPlugIn=ze;function He(e){if(P)return;if(e.msf_type){e.msf_type="click"}else{e["msf_type"]="click"}Ve("click",e);var t=oe(e);ue(t)}n.immediateOpenApp=He;function Xe(e,t){if(P)return;T=e;if(e.msf_type){e.msf_type=e.openAppBtnId=="imk2FixedSide"?"side_click":"click"}else{e["msf_type"]=e.openAppBtnId=="imk2FixedSide"?"side_click":"click"}Ve("click",e);var n=oe(e);U=n;me(n,t);var o={ajaxPrame:[X,H],funcList:[Re,fe,ke],funcPrame:n};Se(o)}n.downloadAppPlugIn=Xe;n.downloadAppPlugInOpenApp=function(e){if(P)return;Be("1");Ve("auto",e);if(e.msf_type){e.msf_type="auto"}else{e["msf_type"]="auto"}var t=oe(e,true);if(!I&&!L){var n=document.createElement("iframe");n.id=x;document.body.appendChild(n);document.getElementById(x).style.display="none";document.getElementById(x).style.width="0px";document.getElementById(x).style.height="0px";I=true}var o={ajaxPrame:[X,H],funcList:De,funcPrame:t};Se(o,true)};n.downloadAppLayerConfigData=function(e){if(P)return;var t={ajaxPrame:[X,H],funcList:[Ge],funcPrame:e};Se(t)};function $e(e){var t={};var n=e.split("?")[1];if(n){var o=n.split("&");for(var a=0;a<o.length;a++){var i=o[a].split("=");t[i[0].toLocaleLowerCase()]=i[1]}}return t}function Ye(e,t,n,o,a){try{var i=e+"="+escape(t);if(n!=""){var r=new Date;r.setTime(r.getTime()+n*1e3);i+=";expires="+r.toGMTString()}if(o!=""){i+=";path="+o}if(a!=""){i+=";domain="+a}document.cookie=i}catch(e){}}function Qe(){var e=M(K.mediaTimes);var t=M(K.stepTime);var n=parseInt(e);var o=parseInt(t);if(n&&o&&n>0&o>0){if(n%o==0){var a=Ue();$.downloadAppPlugInOpenApp({inteneUrlParams:a})}}else{return}}function Ze(){var e=document.createElement("div");e.setAttribute("id","_aDChannelMark");e.style.position="fixed";e.style.zIndex=1e5;e.style.width="1px";e.style.height="1px";e.style.backgroundColor="rgba(0, 0, 255 , .5)";e.style.left="2px";e.style.bottom="2px";document.body.appendChild(e)}function et(){var e=document.getElementById("_aDChannelMark");if(e){e.remove()}}function tt(){var e;var t=q.mediaConfigData&&q.mediaConfigData.stepTimesLifeTime?q.mediaConfigData.stepTimesLifeTime:3600;try{var n=$e(location.href);if(n.ad_od&&n.ad_od=="0"&&n["steptime"]){e=M(K.firstAdChannelURL);if(e){if(unescape(e)==location.href){var o=M(K.mediaTimes);Ye(K.mediaTimes,parseInt(o)+1,t,"/",".jd.com");Ye(K.stepTime,n["steptime"],t,"/",".jd.com");Ze();Qe()}else{Ye(K.firstAdChannelURL,location.href,t,"/",".jd.com");Ye(K.mediaTimes,1,t,"/",".jd.com");Ye(K.stepTime,n["steptime"],t,"/",".jd.com");Ze()}}else{Ye(K.firstAdChannelURL,location.href,t,"/",".jd.com");Ye(K.mediaTimes,1,t,"/",".jd.com");Ye(K.stepTime,n["steptime"],t,"/",".jd.com");Ze()}}else{var o=M(K.mediaTimes);var a=M(K.stepTime);if(o&&a){Ye(K.mediaTimes,parseInt(o)+1,t,"/",".jd.com");Ye(K.stepTime,a,t,"/",".jd.com");Ze();Qe()}else{et()}}}catch(e){console.error(e)}}function nt(e){var t={};var n=e.split("?")[1];if(n){var o=n.split("&");for(var a=0;a<o.length;a++){var i=o[a].split("=");t[i[0]]=i[1]}}return t}function ot(e,t){var n={};for(var o in e){n[o]=e[o]}for(var o in t){n[o]=t[o]}return n}function at(e){var t;var n;var o;if(q.openAppParaFromUcc){var a=q.openAppParaFromUcc;var i=e.split("params=");var r=JSON.parse(i[1]);var s=ot(r,a);e=i[0]+"params="+JSON.stringify(s)}t=nt(location.href);n={};if(location.host=="item.m.jd.com"){t["wjfrom"]?n["wjfrom"]=t["wjfrom"]:"";t["wjwxpubid"]?n["wjwxpubid"]=t["wjwxpubid"]:"";t["wjunionid"]?n["wjunionid"]=t["wjunionid"]:"";t["wjopenid"]?n["wjopenid"]=t["wjopenid"]:"";t["shareActivityId"]?n["shareActivityId"]=t["shareActivityId"]:"";t["shareRuleType"]?n["shareRuleType"]=t["shareRuleType"]:"";t["shareToken"]?n["shareToken"]=t["shareToken"]:""}if(location.host=="shop.m.jd.com"){t["shareActivityId"]?n["shareActivityId"]=t["shareActivityId"]:"";t["shareRuleType"]?n["shareRuleType"]=t["shareRuleType"]:"";t["shareToken"]?n["shareToken"]=t["shareToken"]:""}if(location.href.indexOf("ShareTm=")>-1){t["ShareTm"]?n["ShareTm"]=t["ShareTm"]:""}if(location.href.indexOf("sharetm=")>-1){t["sharetm"]?n["sharetm"]=t["sharetm"]:""}if(location.href.indexOf("shareTm=")>-1){t["shareTm"]?n["shareTm"]=t["shareTm"]:""}o=JSON.stringify(n);try{var l=ee(o,2);if(l.illegal)IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/getIntentUrl","_str:"+o+", illegalJSONCharacters = "+l.illegalCharacters.join("_")+", CurrentURL = "+location.href)}catch(e){IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/getIntentUrl","e:"+e+",  CurrentURL = "+location.href)}if(o!="{}"){e=e.replace("={","={"+o.substring(1,o.length-1)+",")}return e}var it=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1);function rt(e){var t,n,o,a;var i,r,s;r=e.length;i=0;s="";while(i<r){do{t=it[e.charCodeAt(i++)&255]}while(i<r&&t==-1);if(t==-1)break;do{n=it[e.charCodeAt(i++)&255]}while(i<r&&n==-1);if(n==-1)break;s+=String.fromCharCode(t<<2|(n&48)>>4);do{o=e.charCodeAt(i++)&255;if(o==61)return s;o=it[o]}while(i<r&&o==-1);if(o==-1)break;s+=String.fromCharCode((n&15)<<4|(o&60)>>2);do{a=e.charCodeAt(i++)&255;if(a==61)return s;a=it[a]}while(i<r&&a==-1);if(a==-1)break;s+=String.fromCharCode((o&3)<<6|a)}return s}function st(){if(P)return;var e={ajaxPrame:[H],funcList:[Pe,tt],funcPrame:{}};Se(e,true)}return{immediateExecutionFun:st}}();window.imk2Handler.immediateExecutionFun();(function(e,t){var n=t(e);e.wxOpenApp=n;if(typeof module=="object"&&module.exports){module.exports=n}})(window,function(p){var e=function(e,t){t=t||{};this.init(e,t)};function n(e){var t=false;return function(){if(t)return;t=true;e();setTimeout(function(){t=false},1e3)}}e.prototype={init:function(e,t){var n=this;this.isAndroid=navigator.userAgent.match(/(Android);?[\s\/]+([\d.]+)?/)?true:false;this.isIOS=!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);this.options=t;this.configCenter=t.configCenter||{};this.param=e;this.tryTime=0;this.scheme="openapp.jdmobile";this.appId="wxe75a2e68877315fb";this.packageName="com.jingdong.app.mall";this.packageUrl="openApp.jdMobile://";this.configUrl="//wq.jd.com/bases/jssdk/GetWxJsApiSign?url="+encodeURIComponent(location.href.split("#")[0])+"&callback=imkGetWxJsApiSignCallback";IMKTOOLS.UMPService.umpBiz({operation:"1",result:n.isAndroid?"1":"2",source:"0",message:"loadWxJsSdk"});if(IMKTOOLS.isInM_item()&&p.JD&&JD.wxapi&&JD.wxapi.ready&&!p.GLOBAL_FORBIT_WXAPI){JD.wxapi.ready(function(){n.readyCall()})}else if(p.IMK2_CONFIG_DATA){this.openApp(p.IMK2_CONFIG_DATA)}else if(p.wx){this.requestConfig()}else{this.loadWxJsSdk()}},loadWxJsSdk:function(){var t=this;var n="//res.wx.qq.com/open/js/jweixin-1.4.0.js";if("function"==typeof define&&(define.amd||define.cmd)){if("function"==typeof require){try{require([n],function(e){p.wx=e;t.requestConfig()})}catch(e){IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/wechat/jweixin/load","amd or cmd load -- wxJsSdk( "+n+" ) load fail!!! , e = "+e+", CurrentURL = "+location.href)}}else{try{seajs.use(n,function(e){p.wx=e;t.requestConfig()})}catch(e){IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/wechat/jweixin/load","amd or cmd load -- wxJsSdk( "+n+" ) load fail!!! , e = "+e+", CurrentURL = "+location.href)}}}else{var e=document.createElement("script");e.src=n;document.body.appendChild(e);e.onload=e.onreadystatechange=function(){if(!this.readyState||this.readyState==="loaded"||this.readyState==="complete"){if(typeof wx=="undefined"){IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/wechat/jweixin/load","script tag load ---  wxJsSdk( "+n+" ) load fail!!! CurrentURL = "+location.href);return}t.requestConfig();e.onload=e.onreadystatechange=null}}}},requestConfig:function(){var t=this;IMKTOOLS.UMPService.umpBiz({operation:"2",result:t.isAndroid?"1":"2",source:"0",message:"requestConfig"});t.JSONP(t.configUrl,function(e){p.IMK2_CONFIG_DATA=e;t.openApp(e)})},openApp:function(e){var t=this;IMKTOOLS.UMPService.umpBiz({operation:"3",result:t.isAndroid?"1":"2",source:"0",message:"setWxConfig"});wx.config({beta:true,debug:false,appId:e.appId,timestamp:e.timestamp,nonceStr:e.nonceStr,signature:e.signature,jsApiList:["checkJsApi","getInstallState","launchApplication"]});wx.ready(n(function(){IMKTOOLS.UMPService.umpBiz({operation:"4",result:t.isAndroid?"1":"2",source:"0",message:"checkLaunchApplicationAuth"});wx.checkJsApi({jsApiList:["getInstallState","launchApplication"],success:function(e){if(e&&e.errMsg&&e.errMsg.indexOf("ok")==-1){IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/wechat/config/checkJsApi","checkFailed, res = "+t.reportStringify(e)+", CurrentURL = "+location.href)}if(e&&e.checkResult&&(!e.checkResult.getInstallState||!e.checkResult.launchApplication)){IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/wechat/config/checkJsApi","api checkFailed, res = "+t.reportStringify(e)+", CurrentURL = "+location.href)}t.readyCall();if(!e||!e.checkResult||!e.checkResult.getInstallState||!e.checkResult.launchApplication)IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/wechat/check/result","wechat checkJsApi method：falil!  res = "+JSON.stringify(e)+" ,   CurrentURL = "+location.href)}})}));wx.error(function(e){if(e.errMsg&&e.errMsg.indexOf("invalid url domain")>-1){return IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/wechat/config/other","invalid url domain, CurrentURL = "+location.href,{badJsfrom:"invalidUrlDomain"})}IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/wechat/config/result","wechat config method：falil!  res = "+t.reportStringify(e)+" ,   CurrentURL = "+location.href)})},readyCall:function(){var o=this;IMKTOOLS.UMPService.umpBiz({operation:"5",result:o.isAndroid?"3":"4",source:"0",message:"checkAppInstall"});o.wxGetInstallState({haInstalledCb:function(e){IMKTOOLS.UMPService.umpBiz({operation:"6",result:o.isAndroid?"1":"2",source:"0",message:"launchApplication"});o.appVersion=e&&e.versionName||"";var t="scheme";var n=o.configCenter.wechetSchemeSw==0;if(n&&o.isAndroid&&e&&e.versionName>="6.5.5"){t="appId"}t=o.wxa_abtest(t);t=o.iosAppidGray(t);o.wxLaunchApplication(t,{uncaughtFailCb:function(){if(!$.isAutoOpenJDApp()&&!o.options.NoJumpDownLoadPage){o.showDownloadPageInWx()}}})},notInstallCb:function(){IMKTOOLS.UMPService.umpBiz({operation:"7",result:o.isAndroid?"1":"2",source:"0",message:"notInstallApp"});if(!o.options.NoJumpDownLoadPage){o.showDownloadPageInWx()}}})},wxGetInstallState:function(n){n=n||{};var o=this;var e={packageName:o.packageName,packageUrl:o.packageUrl};wx.invoke("getInstallState",e,function(e){var t=function(e){var t=["fail_no permission to execute","access_denied","fail_the permission value is offline verifying"];for(var n=0;n<t.length;n++){if(e.indexOf(t[n])>-1){return true}}return false};if(e.err_msg&&e.err_msg.indexOf("get_install_state:yes")>-1){n.haInstalledCb&&n.haInstalledCb(e)}else{if(e.err_msg&&t(e.err_msg)){IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/wechat/config/permission","res = "+o.reportStringify(e)+", appid: "+o.appId+" , CurrentURL = "+location.href,{badJsfrom:e.err_msg})}else if(e.err_msg&&e.err_msg.indexOf("get_install_state:no")>-1){n.notInstallCb&&n.notInstallCb(e)}else{o.getInstallStateFail=true;n.haInstalledCb&&n.haInstalledCb(e);IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/wechat/invoke/result","wechat getInstallState method res.err_msg:"+e.err_msg+", RES:"+o.reportStringify(e)+", CurrentURL = "+location.href+", args: "+o.reportStringify(e))}}})},wxLaunchApplication:function(t,n){n=n||{};var o=this;var e={};var a=o.options.splitStr+encodeURIComponent(o.param);if(t==="appId"){if(this.isIOS){}var i=o.scheme+"://"+a;e={appID:o.appId,messageExt:i,extInfo:i};IMKTOOLS.UMPService.umpBiz([9,o.isAndroid?2:4,"appId"],true)}else{e={appID:o.scheme,parameter:a};IMKTOOLS.UMPService.umpBiz([9,o.isAndroid?1:3,"scheme"],true)}wx.invoke("launchApplication",e,function(e){if(e.err_msg&&e.err_msg.indexOf("fail")>-1){if(!o.appIdLaunchFail&&t==="appId"){o.appIdLaunchFail=true;o.wxLaunchApplication("scheme",n);return}if(e.err_msg&&e.err_msg.indexOf("over 1024")>-1){IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/wechat/config/launchResult","res = "+o.reportStringify(e)+"paramLength: "+o.param.length+", type: "+t+" , appVersion = "+o.appVersion+" , CurrentURL = "+location.href)}else if(e.err_msg&&e.err_msg.indexOf("fail_no permission to execute")>-1){o.tryTime++;if(o.tryTime>0&&o.tryTime<4){setTimeout(function(){o.readyCall()},100)}else{IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/wechat/config/permission","res = "+o.reportStringify(e)+", appid: "+o.appId+", type: "+t+" , appVersion = "+o.appVersion+" , CurrentURL = "+location.href)}}else{IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/wechat/config/launchResult","res = "+o.reportStringify(e)+", type: "+t+" , appVersion = "+o.appVersion+" , CurrentURL = "+location.href);n.uncaughtFailCb&&n.uncaughtFailCb(e)}}else{IMKTOOLS.UMPService.umpBiz({operation:"8",result:o.isAndroid?"1":"2",source:"0",message:"wechat auto open ：ok!  res = "+JSON.stringify(e)+" ,   CurrentURL = "+location.href});if(o.getInstallStateFail){IMKTOOLS.UMPService.umpBiz({operation:"20",result:o.isAndroid?"1":"2",source:"0",message:"ua = "+navigator.userAgent+", type: "+t+" , appVersion = "+o.appVersion+", CurrentURL = "+location.href})}if(o.appIdLaunchFail){IMKTOOLS.UMPService.umpBiz({operation:"21",result:o.isAndroid?"1":"2",source:"0",message:"ua = "+navigator.userAgent+", type: "+t+" , appVersion = "+o.appVersion+", CurrentURL = "+location.href})}}})},showDownloadPageInWx:function(){setTimeout(function(){if(navigator.userAgent.match(/(Android);?[\s\/]+([\d.]+)?/)){location.href=p.IMK2_COMMON_OPTION.imk2AppDownloadURL}else{location.href=p.IMK2_COMMON_OPTION.imk2AppDownloadURL4Apple}},200)},compressArgs:function(e){var t=this.options.splitStr;var n=1005;var o=["jda","jdv","mt_subsite","mt_xid","unpl"];var a=e;if(a.length>=n&&this.isIOS){var a=a.trim();if(a.indexOf(t)==0){a=a.slice(t.length)}if(a.indexOf("{")!==0){a=decodeURIComponent(a)}try{var i=JSON.parse(a);r(i,"m_param");if(!s(i)){r(i,"SE")}a=t+encodeURIComponent(JSON.stringify(i));return a}catch(e){return a}}return a;function r(e,t){var n=e[t];for(var t in n){if(n.hasOwnProperty(t)){if(o.indexOf(t)===-1&&!s(e)){delete n[t]}}}}function s(e){return encodeURIComponent(JSON.stringify(e)).length<n}},JSONP:function(e,t){var r=function(){return(new Date).getTime()};var s=function(){return Math.random().toString().substr(2)};var l=function(e){var t=e.parentNode;if(t&&t.nodeType!==11){t.removeChild(e)}};var n=function(e,n){var o;var t=/callback=(\w+)/.exec(e);if(t&&t[1]){o=t[1]}else{o="jsonp_"+r()+"_"+s();e=e.replace("callback=?","callback="+o);e=e.replace("callback=%3F","callback="+o)}var a=document.createElement("script");a.type="text/javascript";a.src=e;a.id="id_"+o;p[o]=function(e){p[o]=undefined;var t=document.getElementById("id_"+o);l(t);n(e)};var i=document.getElementsByTagName("head");if(i&&i[0]){i[0].appendChild(a)}};n(e,t)},reportStringify:function(e){return JSON.stringify(e).replace(/"/g,"'")},wxa_abtest:function(e){if(!this.isAndroid||!this.appVersion||this.appVersion<"7.0")return e;if(this.configCenter.test.wxa_abtest){this.addWxParams("wxa_abtest",this.configCenter.test.wxa_abtest)}if(this.configCenter.test.wxa_abtest==="a"){return"appId"}else if(this.configCenter.test.wxa_abtest==="b"){return"scheme"}return e},iosAppidGray:function(e){if(!this.isIOS||!this.configCenter.imkFrontGray)return e;var t=this.configCenter.imkFrontGray.iosAppId==1;return t?"appId":e},addWxParams:function(e,t){var n;try{n=JSON.parse(this.param)}catch(e){IMKTOOLS.BadJSService.error("https://imk2.jd.com/auto/open/app/wechat/config/other","JSON parse error in addWxParams method, CurrentURL = "+location.href,{badJsfrom:"addWxParams"});return}n[e]=t;this.param=JSON.stringify(n)}};return e})}}catch(e){var _imgDom=new Image;_imgDom.src="https://wq.jd.com/webmonitor/collect/badjs.json?Content="+encodeURIComponent("error:"+e+";pageUrl="+location.href)+"&referer="+encodeURIComponent("https://imk2.jd.com/auto/open/app/run/exception")+"&t="+Math.random();throw e}